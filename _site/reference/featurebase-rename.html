<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>FeatureBase Rename</title>
    <link rel="stylesheet" href="/css/style.css">
  </head>
  <body>
    <div class="container">
        <header>
            <a href="/"> 
                <img src="/img/logo.svg" alt="Molecula Logo" class="logo">
            </a>
        </header>
        <main class="container__main">
            <!-- Left sidebar -->
            <aside class="container__left">
                <ul>
    
      
        <li><a href="/index.html">Home</a></li>
        
  
      
    
       
        <li><p>Tutorials</a></li>
        
  
      
        <ul>
    
      
        <li><a href="/tutorials/getting-started.html">Getting Started</a></li>
        
  
      
    
  </ul>

      
    
       
        <li><p>Explanation</a></li>
        
  
      
        <ul>
    
      
        <li><a href="/explanations/architecture.html">Architecture</a></li>
        
  
      
    
  </ul>

      
    
       
        <li><p>How-Tos</a></li>
        
  
      
        <ul>
    
      
        <li><a href="/how-tos/install-featurebase.html">Install FeatureBase</a></li>
        
  
      
    
  </ul>

      
    
       
        <li><p>Reference</a></li>
        
  
      
        <ul>
    
       
        <li><p>Interfaces</a></li>
        
  
      
        <ul>
    
      
        <li><a href="/reference/apis.html">APIs</a></li>
        
  
      
    
  </ul>

      
    
       
        <li><p>Query Languages</a></li>
        
  
      
    
       
        <li><p>Operations</a></li>
        
  
      
    
       
        <li><p>Configuration</a></li>
        
  
      
    
      
        <li><a href="/reference/glossary.html">Glossary</a></li>
        
  
      
    
  </ul>

      
    
  </ul>

            </aside>
    
            <article class="container__middle">
                <h1>FeatureBase Rename</h1>
                <section>
                  <p>As of Molecula 5.0, the core product formerly known as Pilosa will be renamed to FeatureBase. This change extends to several interfaces, so a few additional steps are required when upgrading from pre-5.0 to post-5.0. The 4.4 release includes an option to switch to the FeatureBase name early.</p>

<p>Previously, the Molecula <em>release version</em> and the Pilosa <em>server version</em> numbers were out of sync by one major version. For example, Molecula 4.3 includes Pilosa 3.3. Rather than advancing from Pilosa 3.x to FeatureBase 4.0, FeatureBase will skip the 4.x series, and the first major version will be 5.0. The distinct <em>release version</em> will no longer exist. At the same time, ingester and client versions will update to 5.0 as well.</p>

<p>Note that the term “FeatureBase” may be visible in some logs and error messages prior to the 5.0 release, and “Pilosa” may still be visible after the 5.0 release.</p>

<h2 id="binary-name-change">Binary name change</h2>
<p>Starting with the 4.4 release the binary will be named <code class="language-plaintext highlighter-rouge">featurebase</code> rather than <code class="language-plaintext highlighter-rouge">pilosa</code>. Any shell scripts, service definition files, or similar references to the binary, should be updated to reflect this. During this transition, it may be helpful to define a symlink to the <code class="language-plaintext highlighter-rouge">featurebase</code> binary named <code class="language-plaintext highlighter-rouge">pilosa</code>.</p>

<h2 id="configuration">Configuration</h2>

<p>Some configuration parameters previously included the word “pilosa”. For 5.0 releases, these previous parameters will continue to work, as aliases for the new names, replacing “pilosa” with “featurebase”. Starting with version 6.0, the “pilosa” aliases will no longer be available.</p>

<p>For future 4.x releases, FeatureBase <a href="/reference/monitoring#metrics">metrics</a> will continue to use the “pilosa” namespace. Optionally, the “featurebase” namespace can be used, by using the <code class="language-plaintext highlighter-rouge">--future.rename</code> configuration parameter. Starting with version 5.0, the “featurebase” namespace will be used by default.</p>

<p>The default data directory will switch from <code class="language-plaintext highlighter-rouge">~/.pilosa</code> to <code class="language-plaintext highlighter-rouge">/opt/molecula/featurebase</code>, and the default node name will switch from <code class="language-plaintext highlighter-rouge">pilosa0</code> to <code class="language-plaintext highlighter-rouge">featurebase0</code>.</p>

<h3 id="featurebase">FeatureBase</h3>

<p>In Molecula version 4.4 (Pilosa version 3.4) and later, until the next major release (FeatureBase 5.0), the optional boolean configuration parameter <code class="language-plaintext highlighter-rouge">--future.rename</code> is available. It has the following effects:</p>

<ul>
  <li>Switches the prefix that is used by <a href="/reference/featurebase-configuration">environment variables</a> for configuring FeatureBase from <code class="language-plaintext highlighter-rouge">PILOSA</code> to <code class="language-plaintext highlighter-rouge">FEATUREBASE</code>. For example, <code class="language-plaintext highlighter-rouge">PILOSA_DATA_DIR</code> becomes <code class="language-plaintext highlighter-rouge">FEATUREBASE_DATA_DIR</code>. Note that the <code class="language-plaintext highlighter-rouge">--future.rename</code> flag can be specified as an environment variable with <code class="language-plaintext highlighter-rouge">PILOSA_FUTURE_RENAME</code>, but not <code class="language-plaintext highlighter-rouge">FEATUREBASE_FUTURE_RENAME</code>.</li>
  <li>Switches the metrics namespace (the prefix of the metric names reported by Prometheus or other metrics services) from “pilosa” to “featurebase”. For example, the Prometheus metric <code class="language-plaintext highlighter-rouge">pilosa_maximum_shard</code> becomes <code class="language-plaintext highlighter-rouge">featurebase_maximum_shard</code>.</li>
  <li>Changes some log output to use the FeatureBase name instead of the Pilosa name.</li>
  <li>Changes the default data directory from <code class="language-plaintext highlighter-rouge">~/.pilosa</code> to <code class="language-plaintext highlighter-rouge">/opt/molecula/featurebase</code></li>
  <li>Changes the default node name from <code class="language-plaintext highlighter-rouge">pilosa0</code> to <code class="language-plaintext highlighter-rouge">featurebase0</code> <!-- TODO: is this correct? --></li>
</ul>

<p>Starting with FeatureBase 5.0, the <code class="language-plaintext highlighter-rouge">featurebase</code> versions of these will be used by default.</p>

<h3 id="ingesters">Ingesters</h3>

<p>Several configuration parameters will be renamed, replacing “pilosa” with “featurebase”:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">--pilosa-hosts</code> will become <code class="language-plaintext highlighter-rouge">--featurebase-hosts</code></li>
  <li><code class="language-plaintext highlighter-rouge">--pilosa-grpc-hosts</code> will become <code class="language-plaintext highlighter-rouge">--featurebase-grpc-hosts</code></li>
  <li><code class="language-plaintext highlighter-rouge">--assume-empty-pilosa</code> will become <code class="language-plaintext highlighter-rouge">--assume-empty-featurebase</code></li>
</ul>

<p>In Molecula version 4.4 (ingester version 0.22.0) and later, until the next major release (FeatureBase 5.0), the <code class="language-plaintext highlighter-rouge">featurebase</code> versions of the flags can be enabled by setting the boolean configuration parameter <code class="language-plaintext highlighter-rouge">--future.rename</code>. Starting with FeatureBase 5.0, the <code class="language-plaintext highlighter-rouge">featurebase</code> versions of these will be used by default.</p>

<h3 id="deprecation-plan">Deprecation plan</h3>

<p>In Molecula version 4.4 (Pilosa version 3.4) and later, until the next major release (FeatureBase 5.0), the Pilosa name will be used by default, and FeatureBase can optionally be used by setting the <code class="language-plaintext highlighter-rouge">--future.rename</code> configuration flag.</p>

<p>In FeatureBase 5.x, the effects of the <code class="language-plaintext highlighter-rouge">--future.rename</code> flag will be applied by default, and will not be revertible. The <code class="language-plaintext highlighter-rouge">--future.rename</code> flag will still be present, and setting it will have no effect.</p>

                </section>
            </article>
    
            <!-- Right sidebar -->
            <nav class="container__right">
                <div>Applies to</div>

                <span>Please <a href="https://github.com/molecula/documentation/edit/gh-pages/reference/featurebase-rename.md">help improve this article</a>.</span>

                <div>
                    <span>
                        Modified: 
                    </span>
                </div>

                <div>Feedback?</div>
            </nav>
        </main>
        <footer>
            <p> &copy; 2022 Molecula Corp.</p>
        </footer>
    </div>
  </body>
</html>